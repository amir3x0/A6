{"ast":null,"code":"// In services/BackendService.js or wherever you've defined this function\nimport axios from\"axios\";const API_URL=\"http://localhost:4000\";export const fetchMessageFromBackend=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"recipes\"));return response.data;}catch(error){console.error(\"There was an error fetching the data:\",error);throw new Error(\"Failed to fetch message from backend\");// Propagate error\n}};export const fetchRecipes=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/recipes\"));return response.data;}catch(error){throw new Error(\"Failed to fetch the recipes.\");}};export const registerNewUser=async(name,email,username,password)=>{try{await axios.post(\"\".concat(API_URL,\"/users\"),{name,email,username,password});return true;}catch(error){return false;}};export const authenticateUser=async(username,password)=>{try{const response=await axios.post(\"\".concat(API_URL,\"/users/login\"),{username,password});// Capture and return the access token from the response\nreturn response.data;// Assuming the server sends back an object with accessToken\n}catch(error){var _error$response,_error$response$data;console.error(\"Error during authentication:\",((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message);return false;}};// In services/BackendService.js or a similar file\nexport const fetchProtectedData=async()=>{try{const response=await axios.get(\"\".concat(API_URL,\"/protected-route\"),{headers:{Authorization:\"Bearer \".concat(localStorage.getItem(\"accessToken\"))}});return response.data;}catch(error){console.error(\"Error fetching protected data:\",error);throw new Error(\"Failed to fetch protected data\");}};export const fetchRecipeById=async recipeId=>{try{const response=await axios.get(\"\".concat(API_URL,\"/recipes/findone/\").concat(recipeId));return response.data;}catch(error){console.error('Error fetching recipe by ID:',error);throw new Error('Failed to fetch recipe');}};","map":{"version":3,"names":["axios","API_URL","fetchMessageFromBackend","response","get","concat","data","error","console","Error","fetchRecipes","registerNewUser","name","email","username","password","post","authenticateUser","_error$response","_error$response$data","message","fetchProtectedData","headers","Authorization","localStorage","getItem","fetchRecipeById","recipeId"],"sources":["C:/Users/USER/Documents/GitHub/A6/frontend/src/services/BackendService.js"],"sourcesContent":["// In services/BackendService.js or wherever you've defined this function\r\nimport axios from \"axios\";\r\n\r\nconst API_URL = \"http://localhost:4000\";\r\n\r\nexport const fetchMessageFromBackend = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}recipes`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"There was an error fetching the data:\", error);\r\n    throw new Error(\"Failed to fetch message from backend\"); // Propagate error\r\n  }\r\n};\r\n\r\nexport const fetchRecipes = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/recipes`);\r\n    return response.data;\r\n  } catch (error) {\r\n    throw new Error(\"Failed to fetch the recipes.\");\r\n  }\r\n};\r\n\r\nexport const registerNewUser = async (name, email, username, password) => {\r\n  try {\r\n    await axios.post(`${API_URL}/users`, { name, email, username, password });\r\n    return true;\r\n  } catch (error) {\r\n    return false;\r\n  }\r\n};\r\n\r\nexport const authenticateUser = async (username, password) => {\r\n  try {\r\n    const response = await axios.post(`${API_URL}/users/login`, {\r\n      username,\r\n      password,\r\n    });\r\n    // Capture and return the access token from the response\r\n    return response.data; // Assuming the server sends back an object with accessToken\r\n  } catch (error) {\r\n    console.error(\r\n      \"Error during authentication:\",\r\n      error.response?.data?.message || error.message\r\n    );\r\n    return false;\r\n  }\r\n};\r\n\r\n// In services/BackendService.js or a similar file\r\nexport const fetchProtectedData = async () => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/protected-route`, {\r\n      headers: {\r\n        Authorization: `Bearer ${localStorage.getItem(\"accessToken\")}`,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching protected data:\", error);\r\n    throw new Error(\"Failed to fetch protected data\");\r\n  }\r\n};\r\n\r\n\r\nexport const fetchRecipeById = async (recipeId) => {\r\n  try {\r\n    const response = await axios.get(`${API_URL}/recipes/findone/${recipeId}`);\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error('Error fetching recipe by ID:', error);\r\n    throw new Error('Failed to fetch recipe');\r\n  }\r\n};\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,KAAM,CAAAC,OAAO,CAAG,uBAAuB,CAEvC,MAAO,MAAM,CAAAC,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CACjD,GAAI,CACF,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAH,KAAK,CAACI,GAAG,IAAAC,MAAA,CAAIJ,OAAO,WAAS,CAAC,CACrD,MAAO,CAAAE,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,uCAAuC,CAAEA,KAAK,CAAC,CAC7D,KAAM,IAAI,CAAAE,KAAK,CAAC,sCAAsC,CAAC,CAAE;AAC3D,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAG,KAAAA,CAAA,GAAY,CACtC,GAAI,CACF,KAAM,CAAAP,QAAQ,CAAG,KAAM,CAAAH,KAAK,CAACI,GAAG,IAAAC,MAAA,CAAIJ,OAAO,YAAU,CAAC,CACtD,MAAO,CAAAE,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACd,KAAM,IAAI,CAAAE,KAAK,CAAC,8BAA8B,CAAC,CACjD,CACF,CAAC,CAED,MAAO,MAAM,CAAAE,eAAe,CAAG,KAAAA,CAAOC,IAAI,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,QAAQ,GAAK,CACxE,GAAI,CACF,KAAM,CAAAf,KAAK,CAACgB,IAAI,IAAAX,MAAA,CAAIJ,OAAO,WAAU,CAAEW,IAAI,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAC,CACzE,MAAO,KAAI,CACb,CAAE,MAAOR,KAAK,CAAE,CACd,MAAO,MAAK,CACd,CACF,CAAC,CAED,MAAO,MAAM,CAAAU,gBAAgB,CAAG,KAAAA,CAAOH,QAAQ,CAAEC,QAAQ,GAAK,CAC5D,GAAI,CACF,KAAM,CAAAZ,QAAQ,CAAG,KAAM,CAAAH,KAAK,CAACgB,IAAI,IAAAX,MAAA,CAAIJ,OAAO,iBAAgB,CAC1Da,QAAQ,CACRC,QACF,CAAC,CAAC,CACF;AACA,MAAO,CAAAZ,QAAQ,CAACG,IAAI,CAAE;AACxB,CAAE,MAAOC,KAAK,CAAE,KAAAW,eAAA,CAAAC,oBAAA,CACdX,OAAO,CAACD,KAAK,CACX,8BAA8B,CAC9B,EAAAW,eAAA,CAAAX,KAAK,CAACJ,QAAQ,UAAAe,eAAA,kBAAAC,oBAAA,CAAdD,eAAA,CAAgBZ,IAAI,UAAAa,oBAAA,iBAApBA,oBAAA,CAAsBC,OAAO,GAAIb,KAAK,CAACa,OACzC,CAAC,CACD,MAAO,MAAK,CACd,CACF,CAAC,CAED;AACA,MAAO,MAAM,CAAAC,kBAAkB,CAAG,KAAAA,CAAA,GAAY,CAC5C,GAAI,CACF,KAAM,CAAAlB,QAAQ,CAAG,KAAM,CAAAH,KAAK,CAACI,GAAG,IAAAC,MAAA,CAAIJ,OAAO,qBAAoB,CAC7DqB,OAAO,CAAE,CACPC,aAAa,WAAAlB,MAAA,CAAYmB,YAAY,CAACC,OAAO,CAAC,aAAa,CAAC,CAC9D,CACF,CAAC,CAAC,CACF,MAAO,CAAAtB,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,CAAEA,KAAK,CAAC,CACtD,KAAM,IAAI,CAAAE,KAAK,CAAC,gCAAgC,CAAC,CACnD,CACF,CAAC,CAGD,MAAO,MAAM,CAAAiB,eAAe,CAAG,KAAO,CAAAC,QAAQ,EAAK,CACjD,GAAI,CACF,KAAM,CAAAxB,QAAQ,CAAG,KAAM,CAAAH,KAAK,CAACI,GAAG,IAAAC,MAAA,CAAIJ,OAAO,sBAAAI,MAAA,CAAoBsB,QAAQ,CAAE,CAAC,CAC1E,MAAO,CAAAxB,QAAQ,CAACG,IAAI,CACtB,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,CAAEA,KAAK,CAAC,CACpD,KAAM,IAAI,CAAAE,KAAK,CAAC,wBAAwB,CAAC,CAC3C,CACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}